let aboutUsData = [{"title":{"en":"History","he":"History","ru":"History","ua":"History"},"description":{"en":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. were formed in 1999 by\u00a0<\/span>Ivan Shapovalov<span style=\"color:rgb(32, 33, 34)\">\u00a0and his friend\/business partner Alexander Voitinskiy, who developed plans to create a musical project in Russia. With this idea in mind, Shapovalov and Voitinskiy organized auditions in Moscow in early 1999 for teenage female vocalists. By the end of auditioning, the partners narrowed their search down to ten girls, including the members that finally become t.A.T.u., Lena Katina and Julia Volkova. Both Lena and Julia knew each other before the auditions.<\/span>[10]<span style=\"color:rgb(32, 33, 34)\">\u00a0Both girls stood out among the others, especially because of their appearance and vocal experience, but the producers decided to start with 14-year-old Katina, who sang \"<\/span>It Must Have Been Love<span style=\"color:rgb(32, 33, 34)\">\" by\u00a0<\/span>Roxette<span style=\"color:rgb(32, 33, 34)\">. Katina began recording demos, including \"Yugoslavia\", a protest song about\u00a0<\/span>NATO bombing of Yugoslavia<span style=\"color:rgb(32, 33, 34)\">.<\/span>[11][12]<span style=\"color:rgb(32, 33, 34)\">\u00a0After the demos were cut, Shapovalov insisted that another girl be added to the project. Thus, in late 1999, 14-year-old Julia Volkova was added to the group to complete the duo. She also started recording not long after Lena's \"Yugoslavia\" demo was finished.<\/span><\/p>\n","he":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. were formed in 1999 by\u00a0<\/span>Ivan Shapovalov<span style=\"color:rgb(32, 33, 34)\">\u00a0and his friend\/business partner Alexander Voitinskiy, who developed plans to create a musical project in Russia. With this idea in mind, Shapovalov and Voitinskiy organized auditions in Moscow in early 1999 for teenage female vocalists. By the end of auditioning, the partners narrowed their search down to ten girls, including the members that finally become t.A.T.u., Lena Katina and Julia Volkova. Both Lena and Julia knew each other before the auditions.<\/span>[10]<span style=\"color:rgb(32, 33, 34)\">\u00a0Both girls stood out among the others, especially because of their appearance and vocal experience, but the producers decided to start with 14-year-old Katina, who sang \"<\/span>It Must Have Been Love<span style=\"color:rgb(32, 33, 34)\">\" by\u00a0<\/span>Roxette<span style=\"color:rgb(32, 33, 34)\">. Katina began recording demos, including \"Yugoslavia\", a protest song about\u00a0<\/span>NATO bombing of Yugoslavia<span style=\"color:rgb(32, 33, 34)\">.<\/span>[11][12]<span style=\"color:rgb(32, 33, 34)\">\u00a0After the demos were cut, Shapovalov insisted that another girl be added to the project. Thus, in late 1999, 14-year-old Julia Volkova was added to the group to complete the duo. She also started recording not long after Lena's \"Yugoslavia\" demo was finished.<\/span><\/p>\n","ru":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. were formed in 1999 by\u00a0<\/span>Ivan Shapovalov<span style=\"color:rgb(32, 33, 34)\">\u00a0and his friend\/business partner Alexander Voitinskiy, who developed plans to create a musical project in Russia. With this idea in mind, Shapovalov and Voitinskiy organized auditions in Moscow in early 1999 for teenage female vocalists. By the end of auditioning, the partners narrowed their search down to ten girls, including the members that finally become t.A.T.u., Lena Katina and Julia Volkova. Both Lena and Julia knew each other before the auditions.<\/span>[10]<span style=\"color:rgb(32, 33, 34)\">\u00a0Both girls stood out among the others, especially because of their appearance and vocal experience, but the producers decided to start with 14-year-old Katina, who sang \"<\/span>It Must Have Been Love<span style=\"color:rgb(32, 33, 34)\">\" by\u00a0<\/span>Roxette<span style=\"color:rgb(32, 33, 34)\">. Katina began recording demos, including \"Yugoslavia\", a protest song about\u00a0<\/span>NATO bombing of Yugoslavia<span style=\"color:rgb(32, 33, 34)\">.<\/span>[11][12]<span style=\"color:rgb(32, 33, 34)\">\u00a0After the demos were cut, Shapovalov insisted that another girl be added to the project. Thus, in late 1999, 14-year-old Julia Volkova was added to the group to complete the duo. She also started recording not long after Lena's \"Yugoslavia\" demo was finished.<\/span><\/p>\n","ua":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. were formed in 1999 by\u00a0<\/span>Ivan Shapovalov<span style=\"color:rgb(32, 33, 34)\">\u00a0and his friend\/business partner Alexander Voitinskiy, who developed plans to create a musical project in Russia. With this idea in mind, Shapovalov and Voitinskiy organized auditions in Moscow in early 1999 for teenage female vocalists. By the end of auditioning, the partners narrowed their search down to ten girls, including the members that finally become t.A.T.u., Lena Katina and Julia Volkova. Both Lena and Julia knew each other before the auditions.<\/span>[10]<span style=\"color:rgb(32, 33, 34)\">\u00a0Both girls stood out among the others, especially because of their appearance and vocal experience, but the producers decided to start with 14-year-old Katina, who sang \"<\/span>It Must Have Been Love<span style=\"color:rgb(32, 33, 34)\">\" by\u00a0<\/span>Roxette<span style=\"color:rgb(32, 33, 34)\">. Katina began recording demos, including \"Yugoslavia\", a protest song about\u00a0<\/span>NATO bombing of Yugoslavia<span style=\"color:rgb(32, 33, 34)\">.<\/span>[11][12]<span style=\"color:rgb(32, 33, 34)\">\u00a0After the demos were cut, Shapovalov insisted that another girl be added to the project. Thus, in late 1999, 14-year-old Julia Volkova was added to the group to complete the duo. She also started recording not long after Lena's \"Yugoslavia\" demo was finished.<\/span><\/p>\n"},"chapter":{"en":"About 3","he":"About 3","ru":"About 3","ua":"About 3"},"imageUrl":"https:\/\/dreamseu.z6.web.core.windows.net\/251West117thStreet\/about\/92856E41-2F7B-4300-86AF-E068AC6535DA\/daenerys_game_of_thrones_painting_art-wallpaper-1600x900.jpg","order":0},{"title":{"en":"1999\u20132001: Formation and 200 Po Vstrechnoy","he":"1999\u20132001: Formation and 200 Po Vstrechnoy","ru":"1999\u20132001: Formation and 200 Po Vstrechnoy","ua":"1999\u20132001: Formation and 200 Po Vstrechnoy"},"description":{"en":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. released the albums\u00a0<\/span><em>Dangerous and Moving<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Lyudi Invalidy<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0in 2005 to moderate success after parting ways with Shapovalov. The former was promoted with the international hit \"<\/span>All About Us<span style=\"color:rgb(32, 33, 34)\">\". The duo ventured into other projects, such as creating their own production company T.A. Music and promoting the film inspired by their story,\u00a0<\/span><em>You and I<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0(2008). Their last pair of albums,\u00a0<\/span><em>Vesyolye Ulybki<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Waste Management<\/em><span style=\"color:rgb(32, 33, 34)\">, followed between 2008 and 2009, respectively. t.A.T.u. officially split in 2011, with Katina and Volkova pursuing solo careers.<\/span>[4]<span style=\"color:rgb(32, 33, 34)\">\u00a0They reunited to perform at special occasions, such as\u00a0<\/span>the opening ceremony of the 2014 Winter Olympics<span style=\"color:rgb(32, 33, 34)\">, in subsequent years.<\/span><\/p>\n","he":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. released the albums\u00a0<\/span><em>Dangerous and Moving<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Lyudi Invalidy<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0in 2005 to moderate success after parting ways with Shapovalov. The former was promoted with the international hit \"<\/span>All About Us<span style=\"color:rgb(32, 33, 34)\">\". The duo ventured into other projects, such as creating their own production company T.A. Music and promoting the film inspired by their story,\u00a0<\/span><em>You and I<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0(2008). Their last pair of albums,\u00a0<\/span><em>Vesyolye Ulybki<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Waste Management<\/em><span style=\"color:rgb(32, 33, 34)\">, followed between 2008 and 2009, respectively. t.A.T.u. officially split in 2011, with Katina and Volkova pursuing solo careers.<\/span>[4]<span style=\"color:rgb(32, 33, 34)\">\u00a0They reunited to perform at special occasions, such as\u00a0<\/span>the opening ceremony of the 2014 Winter Olympics<span style=\"color:rgb(32, 33, 34)\">, in subsequent years.<\/span><\/p>\n","ru":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. released the albums\u00a0<\/span><em>Dangerous and Moving<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Lyudi Invalidy<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0in 2005 to moderate success after parting ways with Shapovalov. The former was promoted with the international hit \"<\/span>All About Us<span style=\"color:rgb(32, 33, 34)\">\". The duo ventured into other projects, such as creating their own production company T.A. Music and promoting the film inspired by their story,\u00a0<\/span><em>You and I<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0(2008). Their last pair of albums,\u00a0<\/span><em>Vesyolye Ulybki<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Waste Management<\/em><span style=\"color:rgb(32, 33, 34)\">, followed between 2008 and 2009, respectively. t.A.T.u. officially split in 2011, with Katina and Volkova pursuing solo careers.<\/span>[4]<span style=\"color:rgb(32, 33, 34)\">\u00a0They reunited to perform at special occasions, such as\u00a0<\/span>the opening ceremony of the 2014 Winter Olympics<span style=\"color:rgb(32, 33, 34)\">, in subsequent years.<\/span><\/p>\n","ua":"<p><span style=\"color:rgb(32, 33, 34)\">t.A.T.u. released the albums\u00a0<\/span><em>Dangerous and Moving<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Lyudi Invalidy<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0in 2005 to moderate success after parting ways with Shapovalov. The former was promoted with the international hit \"<\/span>All About Us<span style=\"color:rgb(32, 33, 34)\">\". The duo ventured into other projects, such as creating their own production company T.A. Music and promoting the film inspired by their story,\u00a0<\/span><em>You and I<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0(2008). Their last pair of albums,\u00a0<\/span><em>Vesyolye Ulybki<\/em><span style=\"color:rgb(32, 33, 34)\">\u00a0and\u00a0<\/span><em>Waste Management<\/em><span style=\"color:rgb(32, 33, 34)\">, followed between 2008 and 2009, respectively. t.A.T.u. officially split in 2011, with Katina and Volkova pursuing solo careers.<\/span>[4]<span style=\"color:rgb(32, 33, 34)\">\u00a0They reunited to perform at special occasions, such as\u00a0<\/span>the opening ceremony of the 2014 Winter Olympics<span style=\"color:rgb(32, 33, 34)\">, in subsequent years.<\/span><\/p>\n"},"chapter":{"en":"About 2","he":"About 2","ru":"About 2","ua":"About 2"},"imageUrl":"https:\/\/dreamseu.z6.web.core.windows.net\/251West117thStreet\/about\/3604A42C-5E81-44FF-89C2-6180F03A1C27\/reka_les_gory_130651_720x1280.jpg","order":1},{"title":{"en":"2011: Disbandment","he":"2011: Disbandment","ru":"2011: Disbandment","ua":"2011: Disbandment"},"description":{"en":"<p>At the end of March 2011, t.A.T.u. management released a press release on their official website declaring t.A.T.u. over. Due to conflicts between the girls, and them both wanting to pursue solo careers, the duo was officially announced as disbanded. They finalised the duo's discography with a double remix album for\u00a0<em>Waste Management<\/em>. The management thanked fans for their loyalty over the past twelve years of the duo's history.[57][58]<\/p>\n\n<p>After the split, the group decided to focus on their solo careers, both musically and in film. In August 2011, Lena revealed her debut solo single \"Never Forget\" which eventually charted at number one on the US\u00a0Hot Dance Club Songs\u00a0for a sole week.[59]\u00a0Volkova was also working on her studio album and released two singles; \"All Because of You\" and \"Didn't Wanna Do It\", but failed to generate interest on the music charts.[60][61]\u00a0The following year she confirmed she would be starring in the\u00a0dark comedy\u00a0zombie film\u00a0<em>9 1\/2 Zombies<\/em>, where she plays a heroine.<\/p>\n","he":"<p>At the end of March 2011, t.A.T.u. management released a press release on their official website declaring t.A.T.u. over. Due to conflicts between the girls, and them both wanting to pursue solo careers, the duo was officially announced as disbanded. They finalised the duo's discography with a double remix album for\u00a0<em>Waste Management<\/em>. The management thanked fans for their loyalty over the past twelve years of the duo's history.[57][58]<\/p>\n\n<p>After the split, the group decided to focus on their solo careers, both musically and in film. In August 2011, Lena revealed her debut solo single \"Never Forget\" which eventually charted at number one on the US\u00a0Hot Dance Club Songs\u00a0for a sole week.[59]\u00a0Volkova was also working on her studio album and released two singles; \"All Because of You\" and \"Didn't Wanna Do It\", but failed to generate interest on the music charts.[60][61]\u00a0The following year she confirmed she would be starring in the\u00a0dark comedy\u00a0zombie film\u00a0<em>9 1\/2 Zombies<\/em>, where she plays a heroine.<\/p>\n","ru":"<p>At the end of March 2011, t.A.T.u. management released a press release on their official website declaring t.A.T.u. over. Due to conflicts between the girls, and them both wanting to pursue solo careers, the duo was officially announced as disbanded. They finalised the duo's discography with a double remix album for\u00a0<em>Waste Management<\/em>. The management thanked fans for their loyalty over the past twelve years of the duo's history.[57][58]<\/p>\n\n<p>After the split, the group decided to focus on their solo careers, both musically and in film. In August 2011, Lena revealed her debut solo single \"Never Forget\" which eventually charted at number one on the US\u00a0Hot Dance Club Songs\u00a0for a sole week.[59]\u00a0Volkova was also working on her studio album and released two singles; \"All Because of You\" and \"Didn't Wanna Do It\", but failed to generate interest on the music charts.[60][61]\u00a0The following year she confirmed she would be starring in the\u00a0dark comedy\u00a0zombie film\u00a0<em>9 1\/2 Zombies<\/em>, where she plays a heroine.<\/p>\n","ua":"<p>At the end of March 2011, t.A.T.u. management released a press release on their official website declaring t.A.T.u. over. Due to conflicts between the girls, and them both wanting to pursue solo careers, the duo was officially announced as disbanded. They finalised the duo's discography with a double remix album for\u00a0<em>Waste Management<\/em>. The management thanked fans for their loyalty over the past twelve years of the duo's history.[57][58]<\/p>\n\n<p>After the split, the group decided to focus on their solo careers, both musically and in film. In August 2011, Lena revealed her debut solo single \"Never Forget\" which eventually charted at number one on the US\u00a0Hot Dance Club Songs\u00a0for a sole week.[59]\u00a0Volkova was also working on her studio album and released two singles; \"All Because of You\" and \"Didn't Wanna Do It\", but failed to generate interest on the music charts.[60][61]\u00a0The following year she confirmed she would be starring in the\u00a0dark comedy\u00a0zombie film\u00a0<em>9 1\/2 Zombies<\/em>, where she plays a heroine.<\/p>\n"},"chapter":{"en":"Chapter 4","he":"Chapter 4","ru":"Chapter 4","ua":"Chapter 4"},"imageUrl":"https:\/\/dreamseu.z6.web.core.windows.net\/251West117thStreet\/about\/4785F14C-A471-4C66-8F5E-DCD2114B609F\/avatar_2_movie_2021-wallpaper-1600x900.jpg","order":2},{"title":{"en":"Wake up in the heart of Tel Aviv","he":"Wake up in the heart of Tel Aviv","ru":"Wake up in the heart of Tel Aviv","ua":"Wake up in the heart of Tel Aviv"},"description":{"en":"<p>Come and join the beautiful Gindi TLV community and expand the horizons of your daily life with a mosaic of exciting Tel Aviv experiences. In the most coveted city center location, at the bustling corner of HaHashmonaim and Carlebach Streets, an unparalleled lifestyle awaits you near numerous exceptional educational institutions, cultural attractions and entertainment venues.<\/p>\n","he":"<p>Come and join the beautiful Gindi TLV community and expand the horizons of your daily life with a mosaic of exciting Tel Aviv experiences. In the most coveted city center location, at the bustling corner of HaHashmonaim and Carlebach Streets, an unparalleled lifestyle awaits you near numerous exceptional educational institutions, cultural attractions and entertainment venues.<\/p>\n","ru":"<p>Come and join the beautiful Gindi TLV community and expand the horizons of your daily life with a mosaic of exciting Tel Aviv experiences. In the most coveted city center location, at the bustling corner of HaHashmonaim and Carlebach Streets, an unparalleled lifestyle awaits you near numerous exceptional educational institutions, cultural attractions and entertainment venues.<\/p>\n","ua":"<p>Come and join the beautiful Gindi TLV community and expand the horizons of your daily life with a mosaic of exciting Tel Aviv experiences. In the most coveted city center location, at the bustling corner of HaHashmonaim and Carlebach Streets, an unparalleled lifestyle awaits you near numerous exceptional educational institutions, cultural attractions and entertainment venues.<\/p>\n"},"chapter":{"en":"1","he":"1","ru":"1","ua":"1"},"imageUrl":"https:\/\/dreamseu.z6.web.core.windows.net\/251West117thStreet\/about\/D4C04B7F-AAB7-4D25-AE8C-32F5945E187F\/inzhir_vinograd_chernika_101724_1400x1050.jpg","order":3}];

let canvasClass = 'bmby-about-wrapp';
let lang = 'en';
const dir = 'ltr';
let hasUbuntuFont = false;
let aboutUsSections = [];
let mode = 'dev';
let aboutUsMainContainer;

try{
    callbackFunction();
} catch (e) {
    if(mode === 'dev'){
        console.log('unable to run callback');
    }
}

// add about us on document load
window.addEventListener("DOMContentLoaded", function (event) {
    aboutUsMainContainer = document.querySelector('.'+canvasClass);
    aboutUsMainContainer.classList.add(dir);
    addFont();
    addBasicStyle();
    if (window.innerWidth >=1024){
        buildDesktopAbout();
    }else{
        insertMenu();
        orientationHandler();
    }
});

window.addEventListener('orientationchange',orientationHandler);

function buildDesktopAbout () {
    const wrapper = creatHtmlElement(aboutUsMainContainer,'','div',['content__wrapper']);
    aboutUsData.forEach(el =>{
        const section = creatHtmlElement(wrapper,'','section',['about-us__section']);
        const imgContainer = creatHtmlElement(section,'','div',['about-us__img-container']);
        const img = creatHtmlElement(imgContainer,'','img',['about-us__image']);
        img.src = el.imageUrl;
        const subWrapper = creatHtmlElement(section,'','div',['about-us__sub-wrapper']);
        const sectionTitle = creatHtmlElement(subWrapper,el.title[lang],'h3',['about-us__section-title']);
        const sectionText = creatHtmlElement(subWrapper,el.description[lang],'p',['about-us__section-text']);
    });
    cropImageToText();
}

function cropImageToText () {
        const sectionCollection = document.querySelectorAll('.about-us__section');
        sectionCollection.forEach(section =>{
            setTimeout(()=>{
                const img = section.querySelector('.about-us__img-container > .about-us__image');
                const sub = section.querySelector('.about-us__sub-wrapper');
                let subHeight=0;
                for (let child of sub.children){
                    subHeight += child.getBoundingClientRect().height;
                }
                if (img.getBoundingClientRect().height > subHeight + 120){
                    img.style.height = subHeight+120+'px';
                }
            },100);
        });
}

function orientationHandler () {
    if (window.innerWidth < 1024){
        const menus = document.querySelectorAll('.menu__items');
        menus.forEach((menu,index) =>{
            menu.remove();
        });
        insertMenu(false);

        const contentWrapper = document.querySelector('.tabs-data-content__wrapper');
        if (window.screen.orientation.type !== 'portrait-primary' && dir === 'ltr'){
            contentWrapper.style.marginLeft = 114+'px';
        } else if (window.screen.orientation.type !== 'portrait-primary' && dir === 'rtl'){
            contentWrapper.style.marginRight = 114+'px';
        }else{
            contentWrapper.style.marginRight = 0+'px';
            contentWrapper.style.marginLeft = 0+'px';
        }
    }
}

function creatHtmlElement(parent, elementName, elementTag, elementClass) {
    const el = document.createElement(elementTag);
    if (Array.isArray(elementClass)){
        elementClass.forEach(classElement => {
            el.classList.add(classElement);
        });
    }else{
        el.style.cssText=elementClass;
    }
    el.textContent = elementName;
    if (parent) {
        parent.appendChild(el);
    }
    return el;
}

function addFont() {
    // document.head.innerHTML += '<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;500&display=swap" rel="stylesheet">';
    document.head.innerHTML += '<link href="https://fonts.googleapis.com/css2?family=Assistant:wght@600&family=Ubuntu:wght@300&display=swap" rel="stylesheet">';
}

function addBasicStyle () {
    const replacedStyle = basicStyle.replaceAll('main-container-about', canvasClass);
    document.head.innerHTML +='<style>'+replacedStyle+'</style>';
}

function insertMenu (createTabs = true) {
    const menuContainer = creatHtmlElement('','','ul',['menu__items']);
    aboutUsMainContainer.insertAdjacentElement('afterbegin',menuContainer);
    const tabsDataMainContainer = creatHtmlElement(aboutUsMainContainer,'','div',['tabs-data-content__wrapper']);
    aboutUsData.forEach((menuElement,index) =>{
       const li = creatHtmlElement(menuContainer,menuElement.chapter[lang],'li',['menu__item']);
       li.dataset.order = menuElement.order;
        createTabs && buildTabsContent(tabsDataMainContainer, menuElement);
        if (index ===0){
            li.classList.add('active');
        }
    });
    creatHtmlElement(menuContainer,'','div',['menu__plug']);
    setMenuStyle(menuContainer);
    menuContainer.addEventListener('click', (e) =>switchTab(e.target));
    tabsDataMainContainer.addEventListener('swiped', swipeTabsContent);
}

function swipeTabsContent (e) {
    const orientation = getWindowOrientation();

    if (orientation === 'portrait-primary'){
        const activeMenu = getActiveTabMenu();
        const swipeDirection = e.detail.dir;

        switch (swipeDirection) {
            case dir === 'rtl' ? 'right' : 'left':
                const nexElement = activeMenu.parentElement.querySelector('.menu__item[data-order="'+(Number(activeMenu.dataset.order)+ 1)+'"]');
                if (nexElement){
                    switchTab(nexElement);
                }
                break;
            case dir === 'rtl' ? 'left' : 'right':
                const prevElement = activeMenu.parentElement.querySelector('.menu__item[data-order="'+(Number(activeMenu.dataset.order)-1)+'"]');
                if (prevElement){
                    switchTab(prevElement);
                }
                break;
        }
    }
}

function getActiveTabMenu () {
    let activeMenu;
    const menuCollection = document.querySelectorAll('.menu__item');
    menuCollection.forEach(menu =>{
        if (menu.classList.contains('active')){
            activeMenu = menu;
        }
    });
    return activeMenu;
}

function getWindowOrientation() {
    return window.screen.orientation.type;
}

function setMenuStyle (menuItems) {
    const orientation = getWindowOrientation();
    const childrenItems = menuItems.children;
    const lengthItems = menuItems.children.length;
    const scrollWidth = menuItems.scrollWidth;
    const currentView = menuItems.offsetWidth;

    if (orientation === 'portrait-primary'){
        if (scrollWidth <= currentView && lengthItems > 2){
            menuItems.style.justifyContent = 'space-between';
            for (let child of childrenItems){
                child.style.flexBasis= 100 / lengthItems+'%';
                child.style.textAlign='center';
            }
        } else if (lengthItems <= 2){
            menuItems.style.display = 'none';
        }
    }
}

function buildTabsContent (container,objectContent) {
    const tab = creatHtmlElement(container,'','div',['tab-content__container']);
    tab.dataset.order = objectContent.order;
    const title = creatHtmlElement(tab,objectContent.title[lang],'h3',['tab-content__title']);
    const text = creatHtmlElement(tab,objectContent.description[lang],'p',['tab-content__text']);
    const img = creatHtmlElement(tab,'','img',['tab-content__image']);
    img.src = objectContent.imageUrl;
    if (objectContent.order !== 0){
        tab.classList.add('hide-tab');
    }
}

function toggleTabContent (tabOrder) {
    const tabsContentCollection = document.querySelectorAll('.tab-content__container');
    tabsContentCollection.forEach(tab =>{
       if (tab.dataset.order === tabOrder){
           tab.classList.remove('hide-tab');
       }else {
           tab.classList.add('hide-tab');
       }
    });

}

function switchTab(e) {
    const parent = e.parentElement;
    if (e.classList.contains('menu__item')){
        setActiveTab(parent,e);
        toggleTabContent(e.dataset.order);
    }
}

function setActiveTab (parent, e) {
    const menuItemsCollection = parent.querySelectorAll('.menu__item');
    menuItemsCollection.forEach(menu =>{
        if (e === menu){
            menu.classList.add('active');
            scrollContainer(menu);
        } else{
            menu.classList.remove('active');
        }
    });
}

function scrollContainer (container) {
    const main = container.parentElement;
    const menuItem = container.getBoundingClientRect();

    if (menuItem.right > main.offsetWidth){
        container.parentElement.scrollTo(menuItem.right - main.offsetWidth+ menuItem.width,0);
    } else if (menuItem.left < 0){
        container.parentElement.scrollTo(menuItem.left,0);
    }
}

const basicStyle =`

body{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.main-container-about p, h3{
    margin: 0;
}

.main-container-about {
  font-family: 'Assistant', sans-serif;
  font-size: 18px;
  color: #FFFFFF;
  font-weight: 600;
  position: relative;
  background: linear-gradient(180deg, #2A3549 0%, #131A2D 100%);
}

.menu__items {
  list-style: none;
  display: flex;
  padding: 0;
  overflow-x: scroll;
  margin: 0;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.menu__items::-webkit-scrollbar {
  display: none;
}

.menu__item {
  text-align: center;
  padding: 11px 0;
  margin: 0 12px;
  white-space: nowrap;
  font-size: 16px;
}

.menu__plug {
  content: '';
  min-width: 1px;
  max-width: 1px;
}

.active {
  border-bottom: 3px solid #603EF2;
  color: #603EF2;
}

.hide-tab{
 display: none;  
}

.tab-content__image{
  padding: 0 16px;
  width: 90%;
}

.tab-content__title{
  font-size: 18px;
  color: #fff;
  margin: 24px 16px 12px 16px;
}

.tab-content__text{
  font-size: 14px;
  font-weight: 300;
  line-height: 16px;
  color: #fff;
  padding: 0 16px 24px 16px;
}

.rtl {
  text-align: right;
  direction: rtl;
}

.ltr{
  text-align: left;
  direction: ltr;
}

@media (orientation: landscape) {

.menu__items {
    display: block;
    flex-basis: 40%;
    position: fixed;
    width: 114px;
    top: 0;
}

.menu__item{
    margin-bottom: 19px;
    text-overflow: ellipsis;
    overflow: hidden;
}

.tab-content__title{
    margin: 0 16px 12px 16px;
    padding-top: 12px;
}
}

.content__wrapper{
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
}

.about-us__section {
  display: flex;
  justify-content: space-between;
  padding: 80px 10px 0 10px;
}

.about-us__section:nth-of-type(even){
  flex-direction: row-reverse;
}

.about-us__image{
  width: 100%;
  object-fit: cover;
}

.about-us__sub-wrapper, .about-us__img-container{
  flex-basis: 47%;
}

.about-us__section-title{
  font-size: 30px;
  margin-bottom: 48px;
}

`;

/*!
 * swiped-events.js - v@version@
 * Pure JavaScript swipe events
 * https://github.com/john-doherty/swiped-events
 * @inspiration https://stackoverflow.com/questions/16348031/disable-scrolling-when-touch-moving-certain-element
 * @author John Doherty <www.johndoherty.info>
 * @license MIT
 */
(function (window, document) {

    'use strict';

    // patch CustomEvent to allow constructor creation (IE/Chrome)
    if (typeof window.CustomEvent !== 'function') {

        window.CustomEvent = function (event, params) {

            params = params || { bubbles: false, cancelable: false, detail: undefined };

            var evt = document.createEvent('CustomEvent');
            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
            return evt;
        };

        window.CustomEvent.prototype = window.Event.prototype;
    }

    document.addEventListener('touchstart', handleTouchStart, false);
    document.addEventListener('touchmove', handleTouchMove, false);
    document.addEventListener('touchend', handleTouchEnd, false);

    var xDown = null;
    var yDown = null;
    var xDiff = null;
    var yDiff = null;
    var timeDown = null;
    var startEl = null;

    /**
     * Fires swiped event if swipe detected on touchend
     * @param {object} e - browser event object
     * @returns {void}
     */
    function handleTouchEnd(e) {

        // if the user released on a different target, cancel!
        if (startEl !== e.target) return;

        var swipeThreshold = parseInt(getNearestAttribute(startEl, 'data-swipe-threshold', '20'), 10); // default 20px
        var swipeTimeout = parseInt(getNearestAttribute(startEl, 'data-swipe-timeout', '500'), 10);    // default 500ms
        var timeDiff = Date.now() - timeDown;
        var eventType = '';
        var changedTouches = e.changedTouches || e.touches || [];

        if (Math.abs(xDiff) > Math.abs(yDiff)) { // most significant
            if (Math.abs(xDiff) > swipeThreshold && timeDiff < swipeTimeout) {
                if (xDiff > 0) {
                    eventType = 'swiped-left';
                }
                else {
                    eventType = 'swiped-right';
                }
            }
        }
        else if (Math.abs(yDiff) > swipeThreshold && timeDiff < swipeTimeout) {
            if (yDiff > 0) {
                eventType = 'swiped-up';
            }
            else {
                eventType = 'swiped-down';
            }
        }

        if (eventType !== '') {

            var eventData = {
                dir: eventType.replace(/swiped-/, ''),
                xStart: parseInt(xDown, 10),
                xEnd: parseInt((changedTouches[0] || {}).clientX || -1, 10),
                yStart: parseInt(yDown, 10),
                yEnd: parseInt((changedTouches[0] || {}).clientY || -1, 10)
            };

            // fire `swiped` event event on the element that started the swipe
            startEl.dispatchEvent(new CustomEvent('swiped', { bubbles: true, cancelable: true, detail: eventData }));

            // fire `swiped-dir` event on the element that started the swipe
            startEl.dispatchEvent(new CustomEvent(eventType, { bubbles: true, cancelable: true, detail: eventData }));
        }

        // reset values
        xDown = null;
        yDown = null;
        timeDown = null;
    }

    /**
     * Records current location on touchstart event
     * @param {object} e - browser event object
     * @returns {void}
     */
    function handleTouchStart(e) {

        // if the element has data-swipe-ignore="true" we stop listening for swipe events
        if (e.target.getAttribute('data-swipe-ignore') === 'true') return;

        startEl = e.target;

        timeDown = Date.now();
        xDown = e.touches[0].clientX;
        yDown = e.touches[0].clientY;
        xDiff = 0;
        yDiff = 0;
    }

    /**
     * Records location diff in px on touchmove event
     * @param {object} e - browser event object
     * @returns {void}
     */
    function handleTouchMove(e) {

        if (!xDown || !yDown) return;

        var xUp = e.touches[0].clientX;
        var yUp = e.touches[0].clientY;

        xDiff = xDown - xUp;
        yDiff = yDown - yUp;
    }

    /**
     * Gets attribute off HTML element or nearest parent
     * @param {object} el - HTML element to retrieve attribute from
     * @param {string} attributeName - name of the attribute
     * @param {any} defaultValue - default value to return if no match found
     * @returns {any} attribute value or defaultValue
     */
    function getNearestAttribute(el, attributeName, defaultValue) {

        // walk up the dom tree looking for data-action and data-trigger
        while (el && el !== document.documentElement) {

            var attributeValue = el.getAttribute(attributeName);

            if (attributeValue) {
                return attributeValue;
            }

            el = el.parentNode;
        }

        return defaultValue;
    }

}(window, document));
